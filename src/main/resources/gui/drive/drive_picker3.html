<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title>Loading Picker...</title>

    <script type="text/javascript">
        // The Browser API key obtained from the Google API Console.
        var developerKey = 'AIzaSyDqfHZb3_bUun_ZqRobATMSZfCh2blIrpc';

        // A simple callback implementation.
        function pickerCallback(data) {
            javaBridge.log("Inside Picker Callback");
            if (data[google.picker.Response.ACTION] === google.picker.Action.PICKED) {
                var doc = data[google.picker.Response.DOCUMENTS][0];
                var fileID = doc[google.picker.Document.ID];
            }
        }

        // Create and render a Picker object for picking user Photos.
        function createPicker() {
            var accessToken = "ya29.GlvZBTfVsHgSQuNY8ItfDkPbLLGhTy8-jSiSMx1hJJbz3UlYG0F1ubQ-1GQ4mq2CX6KNu5y-WQIBiU7oOOScNFA0I9JMbKuOnm6QTOnZM11Kh9NFcn1E0kkmgtB8";
            if (accessToken) {
                alert("Creating picker");
                var view = new google.picker.DocsView(google.picker.ViewId.DOCUMENTS).setParent('root').setIncludeFolders(true);

                var origin = (window.location.protocol + '//' + window.location.host);

                //var pickerUri = new google.picker.PickerBuilder().
                addView(view).
                setOAuthToken(accessToken).
                setDeveloperKey(developerKey).
                //setOrigin(origin).
                setCallback(pickerCallback).
                build();

                pickerUri.setVisible(true);
            }
        }

        //.picker-dialog-frame{width:100%;height:100%;border:0;overflow:hidden}.picker-dialog-bg{position:absolute;top:0;left:0;background-color:#fff;z-index:1000}.picker-dialog{position:absolute;top:0;left:0;background-color:#fff;border:1px solid #acacac;width:auto;padding:0;z-index:1001;overflow:auto;-moz-box-shadow:rgba(0,0,0,.2) 0 4px 16px;-webkit-box-shadow:rgba(0,0,0,.2) 0 4px 16px;box-shadow:rgba(0,0,0,.2) 0 4px 16px}.picker-dialog-content{font-size:0;padding:0}.picker-dialog-title,.picker-dialog-buttons{display:none}

        function onApiLoad() {
            gapi.load('picker', {'callback': createPicker});
        }
    </script>
</head>
<body>
<!-- The Google API Loader script. -->
<script type="text/javascript" src="https://apis.google.com/js/api.js?onload=onApiLoad"></script>
</body>
</html>